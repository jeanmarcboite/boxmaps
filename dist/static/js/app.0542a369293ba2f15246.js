webpackJsonp([1],{"7zck":function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("7+uW"),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-app",[t("v-content",[t("router-view")],1)],1)},staticRenderFns:[]};var r=a("VU/8")({data:function(){return{title:"Vuetify.js"}},name:"App"},i,!1,function(e){a("t5qA")},null,null).exports,o=a("/ocq"),l=a("Dd8w"),s=a.n(l),c=a("9bGr"),u=a("gCHX"),d=a("I0Hm"),w=a("JwSH"),g=a("vXa5"),f=a("Ey1i"),p=a("TDso"),m=a("NYxO"),v=a("VbcQ"),y=a("L2CZ"),b=a("Hlta"),h=a("bw/M"),S=a("424j"),C=(a("sax8"),{state:{zoom:12,center:{faycelles:a("yGLh").a.transform([1.987147,44.565865],"EPSG:4326","EPSG:3857")}.faycelles},getters:{zoom:function(e){return e.zoom},center:function(e){return e.center}},actions:{},mutations:{setView:function(e,t){e.zoom=t.zoom,e.center=t.center}}}),M={state:{osm:{visible:!1,layers:{osm:{visible:!0}}},ign:{visible:!0,layers:{geo:{visible:!0},photos:{visible:!1}}},bing:{visible:!1,layers:{road:{visible:!1},imagery:{visible:!1}}}},getters:{osm:function(e){return e.osm},ign:function(e){return e.ign},bing:function(e){return e.bing}},mutations:{setVisibility:function(e,t){t.layer?e[t.group][t.layer].visible=t.visible:e[t.group].visible=t.visible}}};n.a.use(m.a);var z=[Object(S.a)({key:"maps-vuex"})];var O=new m.a.Store({modules:{layers:M,settings:C},state:{app:"Vuetify Map"},plugins:z}),L="2mqbg0z6cx7ube8gsou10nrt",P=[156543.03392804103,78271.5169640205,39135.75848201024,19567.879241005125,9783.939620502562,4891.969810251281,2445.9849051256406,1222.9924525628203,611.4962262814101,305.74811314070485,152.87405657035254,76.43702828517625,38.218514142588134,19.109257071294063,9.554628535647034,4.777314267823517,2.3886571339117584,1.1943285669558792,.5971642834779396,.29858214173896974,.14929107086948493,.07464553543474241];function k(e){return new b.a({url:"https://wxs.ign.fr/"+L+"/geoportail/wmts",layer:e,matrixSet:"PM",format:"image/jpeg",style:"normal",tileGrid:new h.a({origin:[-20037508,20037508],resolutions:P,matrixIds:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"]})})}var x=[new y.a({title:"IGN Maps",type:"base",baseLayer:!0,source:k("GEOGRAPHICALGRIDSYSTEMS.MAPS"),visible:O.getters.ign.layers.geo.visible,noSwitcherDelete:!0}),new y.a({title:"IGN Photos",source:k("ORTHOIMAGERY.ORTHOPHOTOS"),visible:O.getters.ign.layers.photos.visible})],G=a("YzAM"),A="At70LhIzqlj9R8t_QNprh9scHr6d-6MrPeqtim9vsvKHnEJC4fJzDRsaxgSDwL0i",E=[new y.a({title:"Bing Road",baseLayer:!0,visible:O.getters.bing.layers.road.visible,source:new G.a({key:A,imagerySet:"Road"})}),new y.a({title:"Bing Aerial",visible:O.getters.bing.layers.imagery.visible,source:new G.a({key:A,imagerySet:"Aerial"})})],V=a("/3dj"),R=[new y.a({title:"OSM",type:"base",baseLayer:!0,source:new V.a,visible:O.getters.osm.layers.osm.visible,noSwitcherDelete:!0})],H=[new v.a({title:"Bing maps",layers:E,visible:O.getters.bing.visible}),new v.a({title:"IGN maps",layers:x,visible:O.getters.ign.visible,openInLayerSwitcher:!0}),new v.a({title:"Open Maps",layers:R,visible:O.getters.osm.visible})],I=a("GNyT"),j=a("HLCg"),F=a("cURS"),T=a("rwR+"),_=a("YDKv"),N=a("XdvO"),D=a("aC3Q"),q=a("86p+"),B=a("6HMI"),Y=a("lY9i"),J=a("tOEd"),K=a("/Z+s"),X=a("uODu"),Q=(new J.a({image:new K.a({radius:10,radius2:5,points:5,fill:new B.a({color:"blue"})}),stroke:new Y.a({color:[0,0,255],width:2}),fill:new B.a({color:[0,0,255,.3]})}),{Point:new J.a({image:new X.a({fill:new B.a({color:"rgba(255,255,0,0.5)"}),radius:5,stroke:new Y.a({color:"#f0f",width:1})})}),LineString:new J.a({stroke:new Y.a({color:"#f00",width:3})}),Polygon:new J.a({fill:new B.a({color:"rgba(0,255,255,0.5)"}),stroke:new Y.a({color:"#0ff",width:1})}),MultiPoint:new J.a({image:new X.a({fill:new B.a({color:"rgba(255,0,255,0.5)"}),radius:5,stroke:new Y.a({color:"#f0f",width:1})})}),MultiLineString:new J.a({stroke:new Y.a({color:"#00f",width:3})}),MultiPolygon:new J.a({fill:new B.a({color:"rgba(0,0,255,0.5)"}),stroke:new Y.a({color:"#00f",width:1})})}),U=function(e,t){var a=e.getStyleFunction();return a?a.call(e,t):Q[e.getGeometry().getType()]},Z=new I.a({formatConstructors:[j.a,F.a,T.a,_.a,N.a]});Z.on("addfeatures",function(e){var t="new layer";e.file&&(t=e.file.name);var a=new q.a({features:e.features});e.target.map_.addLayer(new D.a({title:t,source:a,style:U})),e.target.map_.getView().fit(a.getExtent())});var $=Z,W=a("CXX0"),ee=a("LL0P"),te=a("8+tQ"),ae=a("bdNf"),ne=a("mAt+"),ie=a("P/M1"),re=a("BO1k"),oe=a.n(re),le=a("qxxq"),se=a("p8Td"),ce=function(e){return function(t){return function(e,t){var a=new j.a,n=e.target.files,i=function(e){var i=e.name;(u=new FileReader).readAsText(e,"UTF-8"),u.onload=function(e){var r=a.readFeatures(e.target.result,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"}),o=new q.a({features:r});if(t.addLayer(new D.a({title:i,source:o,style:U})),1===n.length&&(t.getView().fit(o.getExtent()),t.source=o),console.log("source: "+o.getState()),"ready"===o.getState()){t.profil.setGeometry(o.getFeatures()[0],{graduation:250,amplitude:1e3,zmin:0});var l=new se.a(new le.a([0,0]));l.setStyle([]),o.addFeature(l),t.profil.on(["over","out"],function(e){l&&("over"===e.type?(l.setGeometry(new le.a(e.coord)),l.setStyle(null)):l.setStyle([]))})}}},r=!0,o=!1,l=void 0;try{for(var s,c=oe()(n);!(r=(s=c.next()).done);r=!0){var u;i(s.value)}}catch(e){o=!0,l=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw l}}}(t,e)}};function ue(e){e.html='<i class="'+e.icon+'"></i>',ne.a.call(this,e)}function de(e,t){ee.a.call(this,t);var a=new f.a({html:'<i class="fa fa-folder-open"></i>',title:"Read track file",handleClick:function(){document.getElementById("inputFile").click()}});document.getElementById("inputFile").onchange=ce(e),this.addControl(a);var n=new ee.a({toggleOne:!0,group:!0});this.addControl(n);var i=new ue({icon:"fa fa-hand-pointer-o",className:"select",title:"Select",interaction:new te.a}),r=new q.a({}),o=new ue({icon:"fa fa-pencil",title:"draw line",interaction:new ae.a({type:"LineString",source:r})});n.addControl(i),n.addControl(o),this.addControl(new ie.a),e.addLayer(new D.a({title:"draw line",source:r,style:U})),e.addControl(this)}W.a.inherits(ue,ne.a),W.a.inherits(de,ee.a);var we=de,ge=a("kjK6"),fe={name:"Map",data:function(){return{title:"Maps",direction:"vertical"}},computed:s()({},Object(m.b)(["zoom","center"])),mounted:function(){var e=new c.a({interactions:p.a.defaults().extend([$]),layers:H,target:"map",view:new u.a({center:this.center,zoom:this.zoom})});e.addControl(new d.a),e.addControl(new g.a({trash:!0}));var t=new w.a;t.on("select",function(t){e.getView().animate({center:t.coordinate,zoom:Math.max(e.getView().getZoom(),13)})}),e.addControl(t),e.on("moveend",function(e){O.commit("setView",{zoom:e.map.getView().getZoom(),center:e.map.getView().getCenter()})});var a=new we(e),n=new f.a({html:'<i class="fa fa-wrench"></i>',title:"Toggle toolbar",handleClick:function(){a.setVisible(!a.getVisible())}});n.element.classList.add("ol-wrench"),e.addControl(n),e.profil=new ge.a({target:"profil",width:400,height:200}),e.addControl(e.profil)}},pe={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"app"},[t("Split",{attrs:{direction:this.direction}},[t("SplitArea",{attrs:{size:80}},[t("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"inputFile",accept:".gpx",multiple:""}}),this._v(" "),t("div",{staticClass:"map",attrs:{id:"map"}})]),this._v(" "),t("SplitArea",{attrs:{size:20,id:"profil"}},[this._v("\n      PROFIL\n    ")])],1)],1)},staticRenderFns:[]};var me=a("VU/8")(fe,pe,!1,function(e){a("oz0K")},null,null).exports;n.a.use(o.a);var ve=new o.a({routes:[{path:"/",name:"Maps",component:me}]}),ye=a("3EgV"),be=a.n(ye),he=(a("7zck"),a("9JMe")),Se=a("HcO+"),Ce=a.n(Se);n.a.use(be.a),n.a.config.productionTip=!1,n.a.use(Ce.a),Object(he.sync)(O,ve),new n.a({el:"#app",router:ve,store:O,components:{App:r},template:"<App/>"})},oz0K:function(e,t){},t5qA:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.0542a369293ba2f15246.js.map