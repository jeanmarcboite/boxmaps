{"version":3,"sources":["webpack:///./src/App.vue?bb49","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/assets/projection.js","webpack:///./src/store/modules/settings.js","webpack:///./src/assets/poi.js","webpack:///./src/store/modules/layers.js","webpack:///./src/store/modules/tracks.js","webpack:///./src/store/index.js","webpack:///./src/components/layers/ign.js","webpack:///./src/components/layers/bing.js","webpack:///./src/components/layers/osm.js","webpack:///./src/components/layers/index.js","webpack:///./src/components/ol/style.js","webpack:///./src/components/ol/dndInteraction.js","webpack:///./src/components/ol/readfiles.js","webpack:///./src/components/ol/toolbar.js","webpack:///./src/components/ol/TrackSwitcher.js","webpack:///./src/components/ol/addtracks.js","webpack:///src/components/Maps.vue","webpack:///./src/components/Maps.vue?073c","webpack:///./src/components/Maps.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","staticRenderFns","src_App","__webpack_require__","normalizeComponent","data","title","name","ssrContext","projection","dataProjection","featureProjection","settings","state","zoom","center","faycelles","transform","getters","actions","mutations","setView","value","modules_layers","osm","visible","layers","ign","geo","photos","bing","road","imagery","tracks","setVisibility","payload","layer","group","addGPX","gpx","storeLayer","storeLayers","vector","features","geojson","writeFeatures","getSource","getFeatures","get","storeFeatures","map","getLayers","forEach","g","addTrack","newState","assign_default","vuexStorage","a","key","storage","window","localStorage","vue_esm","use","vuex_esm","plugins","plugin","src_store","Store","modules","app","ign_key","resolutions","ignSource","wmts","url","matrixSet","format","style","tileGrid","tilegrid_wmts","origin","matrixIds","tile","type","baseLayer","source","noSwitcherDelete","bing_key","bingmaps","imagerySet","layers_osm","components_layers","openInLayerSwitcher","defaultStyle","image","regularshape","radius","radius2","points","fill","color","stroke","width","Point","image2","circle","LineString","Polygon","MultiPoint","MultiLineString","MultiPolygon","ol_style","feature","resolution","featureStyleFunction","getStyleFunction","call","getGeometry","getType","dragAndDropInteraction","draganddrop","formatConstructors","igc","kml","topojson","on","event","file","vectorSource","source_vector","target","map_","addLayer","displayInLayerSwitcher","getView","fit","getExtent","dndInteraction","readFeaturesOnLoad","options","readFeatures","result","vectorLayer","extent","slice","store","commit","readfiles_readFeatures","readfiles","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","files","next","done","reader","FileReader","readAsText","onload","extends_default","length","err","return","readfiles_readFeaturesFiles","IconToggle","html","icon","Toggle","Toolbar","Bar","readButton","Button","handleClick","document","getElementById","click","onchange","addControl","leftToolBar","toggleOne","selectCtrl","className","interaction","interaction_select","drawCtrl","draw","fullscreen","ol","inherits","toolbar","TrackSwitcher_TrackSwitcher","TrackSwitcher","optOptions","arguments","classCallCheck_default","element","createElement","_this","possibleConstructorReturn_default","__proto__","get_prototype_of_default","onextent","hasextent","tipLabel","mapListeners","hiddenClassName","shownClassName","button","setAttribute","appendChild","panel","this_","mouseover","onmouseover","e","showPanel","onclick","preventDefault","onmouseout","contains","toElement","relatedTarget","hidePanel","i","observable","unByKey","get_default","prototype","push","renderPanel","classList","add","remove","firstChild","removeChild","ul","listLayers","getMap","_this2","listLayer","liLayer","li","input","checked","layerId","uuid","id","label","htmlFor","innerHTML","replace","c","r","Math","random","toString","control","addtracks","track","hasOwnProperty","direction","right","drawer","computed","Object","methods","mounted","ol_map","interactions","defaults","extend","view","scaleline","LayerSwitcher","trash","search","SearchNominatim","animate","coordinate","max","getZoom","getCenter","$store","wrench","console","log","stopPropagation","profil","Profile","height","trackSwitcher","ol_TrackSwitcher","components_Maps","_vm","staticClass","staticStyle","display","attrs","accept","multiple","_v","temporary","fixed","model","callback","$$v","expression","_l","item","slot","src_components_Maps","Maps_normalizeComponent","Maps","vue_router_esm","router","routes","path","component","vuetify_default","config","productionTip","vue_split_panel_default","vuex_router_sync","vue_feather_plugin_esm","el","components","App","template"],"mappings":"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","file":"static/js/app.e51b7b2f8f337ee8544c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('v-content',[_c('router-view')],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7ec65608\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7ec65608\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7ec65608\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n<v-app>\n  <v-content>\n    <router-view/>\n  </v-content>\n</v-app>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      title: 'Vuetify.js'\n    }\n  },\n  name: 'App'\n}\n</script>\n\n<style>\n@import \"font-awesome/css/font-awesome.css\";\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","export default {\n  dataProjection: 'EPSG:4326',\n  featureProjection: 'EPSG:3857'\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/projection.js","import POI from '@/assets/poi'\n\nconst state = {\n  zoom: 12,\n  center: POI.faycelles\n}\n\n// getters\nconst getters = {\n  zoom: state => state.zoom,\n  center: state => state.center,\n}\n\nconst actions = {\n}\n\nconst mutations = {\n  setView(state, value) {\n    state.zoom = value.zoom\n    state.center = value.center\n  }\n}\n\nexport default {\n  state,\n  getters,\n  actions,\n  mutations\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/settings.js","import proj from 'ol/proj'\nimport projection from './projection'\n\nexport default {\n  faycelles: proj.transform([1.987147, 44.565865], projection.dataProjection, projection.featureProjection)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/poi.js","const state = {\n  osm: {\n    visible: false,\n    layers: {\n      osm: {\n        visible: true\n      }\n    }\n  },\n  ign: {\n    visible: true,\n    layers: {\n      geo: {\n        visible: true\n      },\n      photos: {\n        visible: false\n      }\n    }\n  },\n  bing: {\n    visible: false,\n    layers: {\n      road: {\n        visible: false\n      },\n      imagery: {\n        visible: false\n      }\n    }\n  },\n  tracks: {\n  }\n}\n\nconst getters = {\n  osm: state => state.osm,\n  ign: state => state.ign,\n  bing: state => state.bing\n}\n\nconst mutations = {\n  setVisibility(state, payload) {\n    if (payload.layer) {\n      state[payload.group][payload.layer].visible = payload.visible\n    } else {\n      state[payload.group].visible = payload.visible\n    }\n  },\n  addGPX(state, payload) {\n    state.gpx[payload.title] = payload.gpx\n  }\n}\n\nexport default {\n  state,\n  getters,\n  mutations\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/layers.js","import GPX from 'ol/format/gpx'\nimport Group from 'ol/layer/group'\nimport VectorLayer from 'ol/layer/vector'\nimport projection from '@/assets/projection'\nimport GeoJSON from 'ol/format/geojson'\nconst state = {\n}\n\nfunction storeFeatures(state, layer) {\n  const writer = new GeoJSON()\n  const features = writer.writeFeatures(layer.getSource().getFeatures(), projection)\n  state[layer.get('title')] = features\n}\n\nfunction storeLayer(state, layer) {\n  if (layer instanceof Group) {\n    storeLayers(state, layer)\n  } else {\n    if (layer instanceof VectorLayer) {\n      storeFeatures(state, layer)\n    }\n  }\n}\n\nfunction storeLayers(state, map) {\n  map.getLayers().forEach(g => storeLayer(state, g))\n}\n\nconst mutations = {\n  addTrack(state, map) {\n    const newState = {}\n    storeLayers(newState, map)\n    Object.assign(state, newState)\n  }\n}\n\nexport default {\n  state,\n  mutations\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/tracks.js","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport createLogger from 'vuex/dist/logger'\nimport settings from './modules/settings'\nimport layers from './modules/layers'\nimport tracks from './modules/tracks'\nimport VuexPersist from 'vuex-persist'\n\nconst vuexStorage = new VuexPersist({\n  key: 'maps-vuex', // The key to store the state on in the storage provider.\n  storage: window.localStorage, // or window.sessionStorage or localForage\n  // Function that passes the state and returns the state with only the objects you want to store.\n  // reducer: state => state,\n  // Function that passes a mutation and lets you decide if it should update the state in localStorage.\n  // filter: mutation => (true)\n})\n\nVue.use(Vuex)\nconst debug = process.env.NODE_ENV !== 'production'\n\nconst state = {\n  app: 'Vuetify Map'\n}\n\nconst plugins = [vuexStorage.plugin]\nif (debug) {\n  plugins.push(createLogger())\n}\n\nconst store = new Vuex.Store({\n  modules: {\n    layers,\n    tracks,\n    settings\n  },\n  state,\n  plugins\n})\n\nexport default store\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","import Tile from 'ol/layer/tile'\nimport WMTS from 'ol/source/wmts'\nimport TileGridWMTS from 'ol/tilegrid/wmts'\nimport store from '@/store'\n\n// API key valid for 'openlayers.org' and 'localhost'.\n// Expiration date is 06/29/2018.\nconst key1 = '2mqbg0z6cx7ube8gsou10nrt'\nconst key2 = '6w135ptdb0vpxhop3pjbhb23'\nconst key = '7w2fnww4mguagxhybm8l55gw'\n\nvar resolutions = [\n  156543.03392804103,\n  78271.5169640205,\n  39135.75848201024,\n  19567.879241005125,\n  9783.939620502562,\n  4891.969810251281,\n  2445.9849051256406,\n  1222.9924525628203,\n  611.4962262814101,\n  305.74811314070485,\n  152.87405657035254,\n  76.43702828517625,\n  38.218514142588134,\n  19.109257071294063,\n  9.554628535647034,\n  4.777314267823517,\n  2.3886571339117584,\n  1.1943285669558792,\n  0.5971642834779396,\n  0.29858214173896974,\n  0.14929107086948493,\n  0.07464553543474241\n]\n\nfunction ignSource(layer) {\n  // 'ORTHOIMAGERY.ORTHOPHOTOS'\n  return new WMTS({\n    url: 'https://wxs.ign.fr/' + key + '/geoportail/wmts',\n    layer,\n    matrixSet: 'PM',\n    format: 'image/jpeg',\n    style: 'normal',\n    tileGrid: new TileGridWMTS({\n      origin: [\n        -20037508, 20037508\n      ], // topLeftCorner\n      resolutions: resolutions, // rÃ©solutions\n      matrixIds: [\n        '0',\n        '1',\n        '2',\n        '3',\n        '4',\n        '5',\n        '6',\n        '7',\n        '8',\n        '9',\n        '10',\n        '11',\n        '12',\n        '13',\n        '14',\n        '15',\n        '16',\n        '17',\n        '18',\n        '19'\n      ] // ids des TileMatrix\n    })\n  })\n}\n\nexport const ignGeo = new Tile({\n  title: 'IGN Maps',\n  type: 'base',\n  baseLayer: true,\n  source: ignSource('GEOGRAPHICALGRIDSYSTEMS.MAPS'),\n  visible: store.getters.ign.layers.geo.visible,\n  noSwitcherDelete: true\n})\n\nexport const ignPhotos = new Tile({\n  title: 'IGN Photos',\n  source: ignSource('ORTHOIMAGERY.ORTHOPHOTOS'),\n  visible: store.getters.ign.layers.photos.visible}\n)\n\nconst ignLayers = [ignGeo, ignPhotos]\n\nexport default ignLayers\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/layers/ign.js","import Tile from 'ol/layer/tile'\nimport BingMaps from 'ol/source/bingmaps'\nimport store from '@/store'\n// jeanmarcboite@gmail.com for localhost\nconst key = 'At70LhIzqlj9R8t_QNprh9scHr6d-6MrPeqtim9vsvKHnEJC4fJzDRsaxgSDwL0i'\n\nexport const bingRoad = new Tile({\n  title: 'Bing Road',\n  baseLayer: true,\n  visible: store.getters.bing.layers.road.visible,\n  source: new BingMaps({key, imagerySet: 'Road'})\n})\n\nexport const bingImagery = new Tile({\n  title: 'Bing Aerial',\n  visible: store.getters.bing.layers.imagery.visible,\n  source: new BingMaps({key, imagerySet: 'Aerial'})\n})\n\nconst bingLayers = [bingRoad, bingImagery]\n\nexport default bingLayers\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/layers/bing.js","import Tile from 'ol/layer/tile'\nimport OSM from 'ol/source/osm'\nimport store from '@/store'\nconst osm = new Tile({\n  title: 'OSM',\n  type: 'base',\n  baseLayer: true,\n  source: new OSM(),\n  visible: store.getters.osm.layers.osm.visible,\n  noSwitcherDelete: true})\n\nconst osmLayers = [osm]\nexport default osmLayers\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/layers/osm.js","import Group from 'ol/layer/group'\n\nimport ign from './ign'\nimport bing from './bing'\nimport osm from './osm'\nimport store from '@/store'\n\nconst layers = [\n  new Group({\n    title: 'Bing maps',\n    layers: bing,\n    visible: store.getters.bing.visible,\n  }),\n  new Group({\n    'title': 'IGN maps',\n    layers: ign,\n    visible: store.getters.ign.visible,\n    openInLayerSwitcher: true\n  }),\n  new Group({\n    title: 'Open Maps',\n    layers: osm,\n    visible: store.getters.osm.visible,\n  })\n]\n\nexport default layers\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/layers/index.js","import Fill from 'ol/style/fill'\nimport Stroke from 'ol/style/stroke'\nimport Style from 'ol/style/style'\nimport RegularShape from 'ol/style/regularshape'\nimport CircleStyle from 'ol/style/circle'\n\nexport const profileStyle = [\n  new Style({\n    image: new RegularShape({\n      radius: 10,\n      radius2: 5,\n      points: 5,\n      fill: new Fill({color: 'red'})\n    }),\n    stroke: new Stroke({\n      color: [\n        0, 0, 255\n      ],\n      width: 2\n    }),\n    fill: new Fill({\n      color: [0, 0, 255, 0.3]\n    })\n  })]\n\nexport const defaultStyle = {\n  'Point': new Style({\n    image: new RegularShape({\n      radius: 10,\n      radius2: 5,\n      points: 8,\n      fill: new Fill({color: 'red'})\n    }),\n    image2: new CircleStyle({\n      fill: new Fill({color: 'rgba(255,255,0,0.5)'}),\n      radius: 8,\n      stroke: new Stroke({color: '#f0f', width: 1})\n    })\n  }),\n  'LineString': new Style({\n    stroke: new Stroke({color: '#f00', width: 3})\n  }),\n  'Polygon': new Style({\n    fill: new Fill({color: 'rgba(0,255,255,0.5)'}),\n    stroke: new Stroke({color: '#0ff', width: 1})\n  }),\n  'MultiPoint': new Style({\n    image: new CircleStyle({\n      fill: new Fill({color: 'rgba(255,0,255,0.5)'}),\n      radius: 5,\n      stroke: new Stroke({color: '#f0f', width: 1})\n    })\n  }),\n  'MultiLineString': new Style({\n    stroke: new Stroke({color: '#00f', width: 3})\n  }),\n  'MultiPolygon': new Style({\n    fill: new Fill({color: 'rgba(0,0,255,0.5)'}),\n    stroke: new Stroke({color: '#00f', width: 1})\n  })\n}\n\nconst styleFunction = function(feature, resolution) {\n  const featureStyleFunction = feature.getStyleFunction()\n  if (featureStyleFunction) {\n    return featureStyleFunction.call(feature, resolution)\n  } else {\n    return defaultStyle[feature.getGeometry().getType()]\n  }\n}\n\nexport default styleFunction\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ol/style.js","import DragAndDrop from 'ol/interaction/draganddrop'\nimport GPX from 'ol/format/gpx'\nimport GeoJSON from 'ol/format/geojson'\nimport IGC from 'ol/format/igc'\nimport KML from 'ol/format/kml'\nimport TopoJSON from 'ol/format/topojson'\nimport VectorLayer from 'ol/layer/vector'\nimport VectorSource from 'ol/source/vector'\nimport styleFunction from './style'\n\nconst dragAndDropInteraction = new DragAndDrop({\n  formatConstructors: [\n    GPX,\n    GeoJSON,\n    IGC,\n    KML,\n    TopoJSON\n  ]\n})\ndragAndDropInteraction.on('addfeatures', function(event) {\n  var title = 'new layer'\n  if (event.file) {\n    title = event.file.name\n  }\n  const vectorSource = new VectorSource({\n    features: event.features\n  })\n  event.target.map_.addLayer(new VectorLayer({\n    title,\n    source: vectorSource,\n    style: styleFunction,\n    displayInLayerSwitcher: true\n  }))\n  event.target.map_.getView().fit(vectorSource.getExtent())\n})\n\nexport default dragAndDropInteraction\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ol/dndInteraction.js","import GPX from 'ol/format/gpx'\nimport VectorSource from 'ol/source/vector'\nimport style from './style'\nimport VectorLayer from 'ol/layer/vector'\nimport Point from 'ol/geom/point'\nimport Feature from 'ol/feature'\n\nimport projection from '@/assets/projection'\n\nconst readFeatures = function(event, options) {\n  const format = new GPX()\n  const features = format.readFeatures(event.target.result, projection)\n  const source = new VectorSource({features})\n  const vectorLayer = new VectorLayer({title: options.title, source, style})\n  // copy the extent before it gets lost\n  vectorLayer.extent = source.getExtent().slice()\n  options.map.addLayer(vectorLayer)\n  if (options.fit) {\n    options.map.getView().fit(source.getExtent())\n  }\n  options.store.commit('addTrack', options.map)\n}\nconst readFeaturesOnLoad = (options) => (event) => readFeatures(event, options)\n\nconst readFeaturesFiles = function(event, options) {\n  const format = new GPX()\n\n  for (let file of event.target.files) {\n    const reader = new FileReader()\n    reader.readAsText(file, 'UTF-8')\n    reader.onload = readFeaturesOnLoad({\n      ...options,\n      title: file.name,\n      file,\n      fit: event.target.files.length === 1\n    })\n  }\n}\nconst readFiles = (options) => (event) => readFeaturesFiles(event, options)\n\nconst setProfile = function(map, source) {\n  if (source.getState() === 'ready') {\n    map.profil.setGeometry(source.getFeatures()[0], {\n      graduation: 250,\n      amplitude: 1000,\n      zmin: 0\n    })\n    const pt = new Feature(new Point([0, 0]))\n    pt.setStyle([])\n    source.addFeature(pt)\n\n    map.profil.on([\n      'over', 'out'\n    ], function(e) {\n      if (pt) {\n        if (e.type === 'over') {\n          pt.setGeometry(new Point(e.coord))\n          pt.setStyle(null)\n        } else {\n          // hide point\n          pt.setStyle([])\n        }\n      }\n    })\n  }\n}\n\nexport default readFiles\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ol/readfiles.js","import ol from 'ol'\nimport Bar from 'ol-ext/control/Bar'\nimport Select from 'ol/interaction/select'\nimport Draw from 'ol/interaction/draw'\nimport Toggle from 'ol-ext/control/Toggle'\nimport VectorSource from 'ol/source/vector'\nimport style from '@/components/ol/style'\nimport VectorLayer from 'ol/layer/vector'\nimport FullScreen from 'ol/control/fullscreen'\nimport Button from 'ol-ext/control/Button'\nimport readFiles from '@/components/ol/readfiles'\n\nfunction IconToggle(options) {\n  options.html = '<i class=\"' + options.icon + '\"></i>'\n  Toggle.call(this, options)\n}\nol.inherits(IconToggle, Toggle)\n\nfunction Toolbar(options) {\n  if (process.env.NODE_ENV !== 'production' && !(this instanceof Toolbar)) {\n    console.warn('Toolbar is a constructor and should be called with the `new` keyword')\n  }\n  // this._init(options)\n  Bar.call(this, options)\n\n  const readButton = new Button({\n    html: '<i class=\"fa fa-folder-open\"></i>',\n    title: 'Read track file',\n    handleClick: function () {\n      document.getElementById('inputFile').click()\n    }\n  })\n\n  document.getElementById('inputFile').onchange = readFiles(options)\n\n  // read.element.onchange = readFile(map)\n  this.addControl(readButton)\n\n  /* Nested toobar with one control activated at once */\n  const leftToolBar = new Bar({toggleOne: true, group: true})\n  this.addControl(leftToolBar)\n\n  const selectCtrl = new IconToggle({\n    icon: 'fa fa-hand-pointer-o',\n    className: 'select',\n    title: 'Select',\n    interaction: new Select()\n  })\n\n  const source = new VectorSource({})\n  const drawCtrl = new IconToggle({\n    icon: 'fa fa-pencil',\n    title: 'draw line',\n    interaction: new Draw({type: 'LineString', source})\n  })\n\n  leftToolBar.addControl(selectCtrl)\n  leftToolBar.addControl(drawCtrl)\n\n  this.addControl(new FullScreen())\n\n  options.map.addLayer(new VectorLayer({\n    title: 'draw line',\n    displayInLayerSwitcher: false,\n    source,\n    style\n  }))\n  options.map.addControl(this)\n}\nol.inherits(Toolbar, Bar)\n\nexport default Toolbar\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ol/toolbar.js","import ol from 'ol'\nimport Control from 'ol/control/control'\nimport Observable from 'ol/observable'\nimport Group from 'ol/layer/group'\nimport VectorLayer from 'ol/layer/vector'\n\n/**\n * @classdesc OpenLayers 4 Track Switcher Control.\n *\n * @constructor\n * @extends {ol_control_Control}\n * @param {Object=} options\n * @param {function} displayInLayerSwitcher function that takes a layer and return a boolean if the layer is displayed in the switcher, default test the displayInLayerSwitcher layer attribute\n * @param {boolean} mouseover show the panel on mouseover, default false\n * @param {boolean} extent add an extent button to zoom to the extent of the layer\n * @param {function} onextent callback when click on extent, default fits view to extent\n * Layers attributes that control the switcher\n * - displayInLayerSwitcher {boolean} display in switcher, default true\n */\nexport default class TrackSwitcher extends Control {\n  constructor(optOptions = {}) {\n    const element = document.createElement('div')\n\n    super({element: element})\n    this.options = optOptions || {}\n    this.options.onextent = (\n      typeof (optOptions.onextent) === 'function'\n      ? optOptions.onextent\n      : null)\n    this.options.hasextent = optOptions.extent || optOptions.onextent\n    this.options.tipLabel = optOptions.tipLabel\n      ? optOptions.tipLabel\n      : 'Tracks'\n    if (typeof (optOptions.displayInLayerSwitcher) === 'function') {\n      this.displayInLayerSwitcher = optOptions.displayInLayerSwitcher\n    }\n    this.mapListeners = []\n\n    this.hiddenClassName = 'ol-unselectable ol-control track-switcher'\n    this.shownClassName = 'shown'\n\n    element.className = this.hiddenClassName\n\n    const button = document.createElement('button')\n    button.setAttribute('title', this.options.tipLabel)\n    element.appendChild(button)\n\n    this.panel = document.createElement('div')\n    this.panel.className = 'panel'\n    element.appendChild(this.panel)\n    const this_ = this\n\n    if (!this.options.mouseover) {\n      this.options.click = true\n    } else {\n      button.onmouseover = function(e) {\n        this_.showPanel()\n      }\n    }\n    if (this.options.click) {\n      button.onclick = function(e) {\n        e = e || window.event\n        this_.showPanel()\n        e.preventDefault()\n      }\n    }\n\n    this_.panel.onmouseout = function(e) {\n      e = e || window.event\n      if (!this_.panel.contains(e.toElement || e.relatedTarget)) {\n        this_.hidePanel()\n      }\n    }\n  }\n\n  /**\n    * Set the map instance the control is associated with.\n    * @param {ol.Map} map The map instance.\n    */\n  setMap(map) {\n    // Clean up listeners associated with the previous map\n    for (var i = 0, key; i < this.mapListeners.length; i++) {\n      Observable.unByKey(this.mapListeners[i])\n    }\n    this.mapListeners.length = 0\n    // Wire up listeners etc. and store reference to new map\n    super.setMap(map)\n    if (map) {\n      var this_ = this\n      this.mapListeners.push(map.on('pointerdown', function() {\n        this_.hidePanel()\n      }))\n      this.renderPanel()\n    }\n  }\n\n  /**\n    * Show the layer panel.\n    */\n  showPanel() {\n    if (!this.element.classList.contains(this.shownClassName)) {\n      this.element.classList.add(this.shownClassName)\n      this.renderPanel()\n    }\n  }\n\n  /**\n    * Hide the layer panel.\n    */\n  hidePanel() {\n    if (this.element.classList.contains(this.shownClassName)) {\n      this.element.classList.remove(this.shownClassName)\n    }\n  }\n\n  renderPanel() {\n    while (this.panel.firstChild) {\n      this.panel.removeChild(this.panel.firstChild)\n    }\n\n    const ul = document.createElement('ul')\n    this.panel.appendChild(ul)\n    this.listLayers(this.getMap(), ul)\n  }\n\n  listLayers(group, ul) {\n    group.getLayers().forEach(layer => this.listLayer(layer, ul))\n  }\n\n  listLayer(layer, ul) {\n    if (layer instanceof Group) {\n      this.listLayers(layer, ul)\n    } else if (layer instanceof VectorLayer && layer.extent) {\n      ul.appendChild(this.liLayer(layer))\n    }\n  }\n\n  liLayer(layer) {\n    const this_ = this\n    const li = document.createElement('li')\n    li.className = 'layer'\n    const input = document.createElement('input')\n    input.type = 'radio'\n    input.name = 'baseTrack'\n    input.onchange = function(e) {\n      if (e.target.checked && layer.extent) {\n        this_.getMap().getView().fit(layer.extent)\n      }\n    }\n    const layerId = TrackSwitcher.uuid()\n    input.id = layerId\n    li.appendChild(input)\n    const label = document.createElement('label')\n    label.htmlFor = layerId\n    label.innerHTML = layer.get('title')\n    li.appendChild(label)\n\n    return li\n  }\n\n  /**\n    * **Static** Generate a UUID\n    * Adapted from http://stackoverflow.com/a/2117523/526860\n    * @returns {String} UUID\n    */\n  static uuid() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n      let r = Math.random() * 16 | 0\n      let v = c === 'x'\n        ? r\n        : (r & 0x3 | 0x8)\n      return v.toString(16)\n    })\n  }\n}\n\n/** Test if a layer should be displayed in the switcher\n * @param {ol.layer} layer\n * @return {boolean} true if the layer is displayed\n */\nTrackSwitcher.prototype.displayInLayerSwitcher = function(layer) {\n  return true || (layer.get('displayInLayerSwitcher') !== false)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ol/TrackSwitcher.js","import GeoJSON from 'ol/format/geojson'\nimport VectorSource from 'ol/source/vector'\nimport style from './style'\nimport VectorLayer from 'ol/layer/vector'\nimport projection from '@/assets/projection'\n\nconst addLayer = function (options) {\n  const format = new GeoJSON()\n  const features = format.readFeatures(options.features, projection)\n  const source = new VectorSource({features})\n  const vectorLayer = new VectorLayer({title: options.title, source, style})\n  // copy the extent before it gets lost\n  vectorLayer.extent = source.getExtent().slice()\n  options.map.addLayer(vectorLayer)\n}\n\nconst addTracks = function(map, tracks) {\n  for (var track in tracks) {\n    if (tracks.hasOwnProperty(track)) {\n      addLayer({map, features: tracks[track], title: track})\n    }\n  }\n}\nexport default addTracks\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ol/addtracks.js","<template>\n<div class=\"app\">\n  <input type=\"file\" id=\"inputFile\" accept=\".gpx\" multiple style=\"display:none;\" />\n  <div id=\"map\" class=\"map\" />\n  <v-navigation-drawer temporary :right=\"right\" v-model=\"drawer\" fixed app>\n    <v-expansion-panel>\n      <v-expansion-panel-content v-for=\"(item,i) in 5\" :key=\"i\">\n        <div slot=\"header\">Item\n          </v-icon>\n        </div>\n        <v-card>\n          <v-card-text>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</v-card-text>\n        </v-card>\n      </v-expansion-panel-content>\n    </v-expansion-panel>\n\n  </v-navigation-drawer>\n</div>\n</template>\n\n<script>\nimport Map from 'ol/map'\nimport View from 'ol/view'\nimport Scaleline from 'ol/control/scaleline'\nimport SearchNominatim from 'ol-ext/control/SearchNominatim'\nimport LayerSwitcher from 'ol-ext/control/LayerSwitcher'\nimport Button from 'ol-ext/control/Button'\nimport interaction from 'ol/interaction'\nimport {\n  mapGetters,\n  mapMutations\n} from 'vuex'\n\nimport layers from '@/components/layers'\nimport store from '@/store'\nimport GPX from 'ol/format/gpx'\n\nimport dragAndDropInteraction from '@/components/ol/dndInteraction'\nimport Toolbar from '@/components/ol/toolbar'\nimport Profil from 'ol-ext/control/Profile'\nimport Group from 'ol/layer/group'\nimport VectorLayer from 'ol/layer/vector'\nimport TrackSwitcher from '@/components/ol/TrackSwitcher'\nimport projection from '@/assets/projection'\n\nimport addTracks from '@/components/ol/addtracks'\n\nexport default {\n  name: 'Map',\n  data() {\n    return {\n      title: 'Maps',\n      direction: 'vertical',\n      right: true,\n      drawer: false,\n      map: undefined\n    }\n  },\n  computed: {\n    ...mapGetters(['zoom', 'center'])\n  },\n  methods: {\n    ...mapMutations(['addTrack'])\n  },\n  mounted: function () {\n    const this_ = this\n    this.map = new Map({\n      interactions: interaction.defaults().extend([dragAndDropInteraction]),\n      layers,\n      target: 'map',\n      view: new View({\n        center: this.center,\n        zoom: this.zoom\n      })\n    })\n    this.map.addControl(new Scaleline())\n\n    this.map.addControl(new LayerSwitcher({\n      trash: true,\n      extent: true\n    }))\n\n    const search = new SearchNominatim()\n    search.on('select', function (e) {\n      this_.map.getView().animate({\n        center: e.coordinate,\n        zoom: Math.max(this_.map.getView().getZoom(), 13)\n      })\n    })\n    this.map.addControl(search)\n    this.map.on('moveend', function (event) {\n      store.commit('setView', {\n        zoom: event.map.getView().getZoom(),\n        center: event.map.getView().getCenter()\n      })\n    })\n\n    const toolBar = new Toolbar({\n      store: this.$store,\n      map: this.map\n    })\n\n    const wrench = new Button({\n      html: '<i class=\"fa fa-wrench\"></i>',\n      title: 'Toggle toolbar',\n      handleClick: function () {\n        // toolBar.setVisible(!toolBar.getVisible())\n      }\n    })\n    wrench.element.classList.add('ol-wrench')\n    this.map.addControl(wrench)\n\n    const profile = new Button({\n      html: '<i class=\"fa fas fa-map-signs\"></i>',\n      // html: '<i class=\"fa fa-bars\"></i>',\n      title: 'Toggle toolbar',\n      handleClick: function (event) {\n        console.log(this_.drawer)\n        event.preventDefault()\n        event.stopPropagation()\n      }\n    })\n    profile.element.classList.add('ol-profile')\n\n    // this.map.addControl(profile)\n    // New profil outside the map\n    this.map.profil = new Profil({\n      target: 'profil',\n      width: 400,\n      height: 200\n    })\n    this.map.addControl(this.map.profil)\n\n    addTracks(this.map, this.$store.state.tracks)\n\n    const trackSwitcher = new TrackSwitcher()\n    this.map.addControl(trackSwitcher)\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import \"ol/ol.css\";\n@import \"./ol/TrackSwitcher.css\";\n@import \"ol-ext/dist/ol-ext.css\";\n@import 'ol-ext/control/Search.css';\n@import 'ol-ext/control/Bar.css';\n@import 'ol-ext/control/LayerSwitcher.css';\n.ol-control.ol-layerswitcher-no {\n    left: 0.5em;\n    right: auto;\n    top: 6em;\n}\n\n.ol-layerswitcher-no button {\n    float: left;\n}\n.ol-control.ol-layerswitcher {\n    top: 0.5em;\n}\n/* Bar style */\n.ol-control.ol-bar {\n    top: 0.5em;\n    left: 6em;\n}\n.ol-search {\n    position: absolute;\n    top: 2.5em;\n    left: 2.7em;\n}\n.ol-wrench {\n    position: absolute;\n    left: 0.5em;\n    top: 4em;\n}\n.ol-profile {\n    position: absolute;\n    top: 4em;\n    right: 0.5em;\n}\n@import 'ol-ext/control/Profil.css';\n.ol-profil .ol-profilbar,\n.ol-profil .ol-profilcursor:before {\n    background: blue;\n}\n.custom-icon,\n.v-icon {\n    width: 12px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Maps.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app\"},[_c('input',{staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"id\":\"inputFile\",\"accept\":\".gpx\",\"multiple\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"map\",attrs:{\"id\":\"map\"}}),_vm._v(\" \"),_c('v-navigation-drawer',{attrs:{\"temporary\":\"\",\"right\":_vm.right,\"fixed\":\"\",\"app\":\"\"},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('v-expansion-panel',_vm._l((5),function(item,i){return _c('v-expansion-panel-content',{key:i},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"Item\\n          \")]),_vm._v(\" \"),_c('v-card',[_c('v-card-text',[_vm._v(\"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\")])],1)],1)}))],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8abcba6e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Maps.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8abcba6e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Maps.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Maps.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Maps.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8abcba6e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Maps.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Maps.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Maps from '@/components/Maps'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'Maps',\n      component: Maps\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport Vuetify from 'vuetify'\nimport 'vuetify/dist/vuetify.min.css'\nimport { sync } from 'vuex-router-sync'\n\nimport store from '@/store'\nimport VueSplit from 'vue-split-panel'\nimport feather from 'vue-icon'\n\nVue.use(Vuetify)\n\nVue.config.productionTip = false\nVue.use(VueSplit)\nsync(store, router)\nVue.use(feather, 'v-icon')\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}